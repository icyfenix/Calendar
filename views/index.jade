extends layout

block next_appointments
	p Here are your next three appointments:
	ul(id="appointments")


	script
		var jqxhr = $.getJSON('http://localhost:5000/calendar/getItems/3',{}, function (data) {
			for (var i=0;i<data.length;i++){
				var li = $('<li>');
				li.html(data[i].Name);
				$('#appointments').append(li);
			}
		});
		jqxhr.error(function(){
			console.log("Woo!");
			})

block new_event
	a(href="#planModal", data-toggle="modal") New Event
	div(id="planModal", class="modal hide fade", tabindex="-1", role="dialog")
		div(class="modal-header")
			button(type="button", class="close", data-dismiss="modal")x
			h3(id="myModalLabel") New Event
		div(class="modal-body")
			form(action='/calendar/new_event', method="post", id="newEventForm")
				label(for="newEventName") Event Name : 
					input(id="newEventName", name="newEventName", tabindex="1", autofocus="true")
				input(id="newEventDate", name="newEventDate", type="datetime", tabindex="2") Event Date
				input(id="newEventDescription", name="newEventDescription") Event Description
				input(id="newEventAttendees", name="newEventAttendees") Event Attendees					
		div(class="modal-footer")
			button(class="btn", data-dismiss="modal") Close
			button(id="saveNewEvent", class="btn btn-primary") Save
	script
		$("#newEventDate").datepicker();
		$("#saveNewEvent").click(function(){
			$("newEventForm").submit();
		});